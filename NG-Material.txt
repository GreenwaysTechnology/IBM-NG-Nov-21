

Why Java script was created?

For Web

-is it to create web apps using html.
  No
-To modify the html document inside web browser.


            					DOM 
				 (Document Object Model)

DOM: 
   DOM is spec , defined by W3C to reprenent html elements inside javascript engine.


HTML internal work flow:
........................


...........................................................................................
					compile time
index.html -source code

<html>
<head></head>
<title><title>
<body>
  <div>
     <h1>Welcome</h1>
  </div>
</body>
</html>
   |
------- Loaded into browser using http protocal or ftp or local disk protocal
   |
 Parser  => generates a parsed lexical tree
   |
html
  head
 title
body
  div
     h1 Welcome h1
  div
 body
   html
  |
.......................................................
 compiler  =>generates assembly instruction

html -0AbcA
  head -load head
 title
body
  div
     h1 Welcome h1
  div
 body
   html
--------------------------------------------------------------------------------------------
   |				   Runtime
   |
 runtime ===> will allocate memory on RAM. 

Linked List will be created

html - Node
  head -Node
 title -Node
body - Node
  div - Node
     h1 Welcome h1
  div
 body
   html


Tree will be created -Nodes are linked in hierachical order - parent-child arch

html - Node
  |
  head -Node
   |
 title -Node
   |
body - Node
  |
  div - Node
    |
     h1 Welcome h1
  div
   |
 body
    |
   html
---------
   |
Paint Engine /Layout Engine
  |
Nodes are converted into pixels and drawn on the screen - OUTPUT
---------------------------------------------------------------------------------------------  
Birth of Javascript:
...................

At Netscap decided to modifiy the linked list / tree via special program 

netscap decided to create very light weight programming language to access the tree and modify the tree at runtime - js
............................................................................................
					HTML Elements
.............................................................................................


HTML Elements types

1.built in elements

2.custom elements


HTML Elements types

1.built in elements

2.custom elements
HTML Elements types

1.built in elements

2.custom elements



1.built in elements
  are part of html language spec
 h1,body,p,nav,div

compiler design

 source code
                              compiler db -[div]
                                 |
  <div></div> ----- compile----compiler
                                  |
                      ------------------------
                    if present             
                      |
                    execution
                      |
                     node
                       |
                     screen


                                compiler db -[Subramanian]
                                    |
  <subramanian></subramaian> ----- compile----compiler
                                  |
                      ------------------------
                    if present            if not present           
                      |                        |
                    execution              throw error - UnKnown Element
                      |                                 |
                     node                              Convert that element into PlainText   
                       |                               |
                     screen                           render



2.IN 2007-2008 W3C Decided to introduce new html spec - html 5

 -custom elements - how to add new elements
 -custom attributes - how to add custom attribues on existing html specs

Custom Types
int,float =  class A{ int,float }

how to teach browser to understand custom elements and attributes
   -via Javascript


                             compiler db -[Subramanian]
                                    |
 <subramanian></subramaian> ----- compile----compiler
                                  |
                      ------------------------
                    if present            if not present           
                      |                        |
                    execution              feed into js 
                      |                                 |
                     node                              js will do something   
                       |                               |
                     screen                           render



eg:

class AppDrawer extends HTMLElement {...}

window.customElements.define('app-drawer', AppDrawer);

// Or use an anonymous class if you don't want a named constructor in current scope.
window.customElements.define('app-drawer', class extends HTMLElement {...});



  			              compiler db -[div,Subramanian]
                                           |
<subramanian></subramaian> --jsengine will add new defintion--- compile----compiler
                                   |
                      ------------------------
                    if present            if not present           
                      |                        |
                    execution              throw error - UnKnown Element
                      |                                 |
                     node                              Convert that element into PlanText   
                       |                               |
                     screen                           render

////////////////////////////////////////////////////////////////////////////////////////////
Angular and Custom Elements:

 Angular follows custom element spec in order to create apps.


  Custom Element
  <app-root></app-root>
                  |
                  ------------->|import { Component } from '@angular/core';

				@Component({
 				 selector: 'app-root',
  				templateUrl: './app.component.html',
  				styleUrls: ['./app.component.css']
				})
				export class AppComponent {
					  title = 'ng-helloworld';
				}


<app-root></app-root> ---------------function AppComponent(){ 
                                           //dom code
                                     }


/////////////////////////////////////////////////////////////////////////////////////////////
					Angular Code Part
.............................................................................................

Angular is collection of many projects.

-angular cli

Angular cli :

npm install -g @angular/cli


ng new getting-started

cd getting-started

ng serve
.............................................................................................

Angular is DOM Framework, we create dom objects,modify dom objects via Typescript(javascript).

Component:
  It is one of infra Object.
  It represents DOM objects(HTML elmements)

In Angular no infra object is created by developer rather angular uses ioc /dependency injector- objects are created by the framework and avaialble for us to use.

In Angular all infra object features are injected via "Decorators".

How to create Object ?

-We need class.

class MyClass {

}

let mycls = new MyClass(); =>This step we dont do in angular, angular takes care of that.


How to create Compoent ?

@Component({})
class MyClass {

}

Now Myclass is not normal class, rather which is component class.

Decorators and Infra Objects:
.............................
1.module   ---@NgModule
2.component---@Component
3.service --@Injectable
4.directive -@Directive
5.pipes -@Pipe
.............................................................................................
					Angular App Structure
..............................................................................................

Angular App is collection of many objects.

Angular provides container object called "Module" Object.


Modules:
   Organzation of code.

Types of Modules in angular.

1.Physical module(ES 6 modules)
   
   Separation of code into files and folders

src/app/customer/customer.component.ts

export class Customer {}


import {Customer} from './app/customer/customer.component'


2.Logical modules(Object organzation)
    
    organization of objects(c,directives) at runtime based on features
 we call ngModules
 

Every angular application must have one single container object called "AppModule"


//////////////////////////////////////////////////////////////////////////////////////////////
				   Dependency Injection
............................................................................................

Angular Creates objects automatically , we dont need to create them.

How angular understand that , object need to be created. 

Thats where configuration comes into picture.


Angular defines three types of objects for DI:
..............................................

1.View Objects
   Component,Directive,Pipe
2.SubModules
   @NgModule
3.Services
   @Injectable
.............................................................................................
					Angular MVC Architecture
.............................................................................................

M - model - domain objects
V - View - dom elements -  html elements
C- Controller - Component

Component:

 Object to represent "View" in app

Every angular app must have one Component - Root Component -Main Compoent -Main Page-App Component. - Landing Page


How to create Component?

Component consist of following things?

1.template
    collection of angular instructions

Angular instructions:
1.1. html elements - div,p,span
1.2. data binding symbols -special instructions
     *,[],(),#,directives <>,pipes(|)

2.css
   style sheet
3.code
   logic written in typescript 
 variables,methods,interfaces



How to create Component?

Component consist of following things?

1.template
    collection of angular instructions

Angular instructions:
1.1. html elements - div,p,span
1.2. data binding symbols -special instructions
     *,[],(),#,directives <>,pipes(|)

2.css
   style sheet
3.code
   logic written in typescript 
 variables,methods,interfaces

Comonent has follwing things?

 -dependency
     -services

Steps:

1.declare component class and export it.

export class AppComponent {

}

2.decorate component class. -@Component
Decorator that marks a class as an Angular component and provides configuration metadata that determines how the component should be processed, instantiated, and used at runtime.

3.meta Object {}
@Component({})

@Component({})
export class AppComponent {

}

4.provide meta information
 selector - custom element name
 template - instructions
 css - styles for component



Types of templates:

1.inline template
   template is part of component itself , provided within string
  template: `
           <div>
             <h1>HR Block Angular Apps welcomes you</h1>
           </div>
  `
2.external template
   template is outside component and provided via a separate .html file
templateUrl: './app.component.html',

import { Component } from "@angular/core";

@Component({
  selector: 'app-root',
  templateUrl:'./app.component.html'
})
export class AppComponent {

}
//////////////////////////////////////////////////////////////////////////////////////////////
				   Dependency Injection
............................................................................................

Angular Creates objects automatically , we dont need to create them.

How angular understand that , object need to be created. 

Thats where configuration comes into picture.


//AppModule - to have other objects
// contains injector configuration to create object

import { NgModule } from "@angular/core";
import { BrowserModule } from "@angular/platform-browser";
import { AppComponent } from "./app.component";



@NgModule({
  declarations: [AppComponent], //view objects - Component,Directive,Pipes
  imports: [BrowserModule], //submodules -from angular or custom sub modules
  providers: [], // services,
  bootstrap: [AppComponent]
})
export class AppModule { }
.............................................................................................
				Component driven architecture
............................................................................................

 Angular apps are collection of components.
 Component represent "custom html element"
 custom html element may compose other custom element and htmls elements- hi
 you need to design app based on html hierachical design

  <parent>         ----------------------------Appcomponent -selector
      <child-1>  ------------------------------Child1Component
              <sub-child></sub-child>
      </child-1>
      <child-2> -sibling
		<sub-child>
			...
		</sub-child>
      <child-2>
  </parent>


 <div>
    <div>
        <div></div>
    </div>
 <div>

<app-root>
  <app-header>
        ....
   </app-header>

  <app-body>
        ....
  </app-body>

  <app-footer>

 </app-footer>
 </app-root>
..............................................................................................

Task : 
 -create header /body /footer component
 
Angular coding best pratices:
...............................
https://angular.io/guide/styleguide


file name:
recommended
 header.component.ts
not recommended
 headercomponent.ts
 hcmp.ts

component:
 ts file
 html file
 css file
 spec file

header.component.ts
header.component.html
header.component.css
header.component.spec.ts

style guide for file names

domainname.component|service|directive|pipe.ts
hero.component.ts
hero.service.ts
hero.directive.ts
hero.pipe.ts


Custom elements Naming convention:Component selectors

 <app-root> - recommended
  
 <approot>  - not recommended.

Do use dashed-case or kebab-case for naming the element selectors of components.

............................................................................................

class Names:

 1.Noun
 2.should be meaningfull
 3.should have suffix component,service,directive,pipe

 HeaderComponent
 HeaderService
 HeaderDirective
 HeaderPipe
..............................................................................................
Steps to create Component

1.declare componenent class
2.declare component html 
3.write component logic
4.dependency injection inside moudle
5.refer the compoent inside template.
...........................................................................................
Style guide to create components or any objects

1.modularazation

-physical modularity 
   folders
     files

src
  app
   |
   header
     header files
   footer
     footer files
   body 
    body files

-logical modularity 
    object grouping
 sub modules
   header module 


Style guide to create components or any objects

1.modularazation

-physical modularity 
   folders
     files

src
  app
   |
   header
     header files
   footer
     footer files
   body 
    body files

-logical modularity 
    object grouping
 sub modules
   header module 


Steps:

1.create folder
2.create modules
3.create components/directives/services 
4.DI inside sub module


Error: src/app/app.component.html:2:5 - error NG8001: 'app-header' is not a known element:
1. If 'app-header' is an Angular component, then verify that it is part of this module.
2. If 'app-header' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.

2     <app-header></app-header>
      ~~~~~~~~~~~~


Module Scope:
Any Component,Pipe,Directive,submodule refers inside a module will be available inside that module only. Module Scope


Module Scope:

1.public scope
   if any objects belong to all modules that  is public
2.private scope
  if any objects belong to that module is private including appmodule.

if you want to make any object in public scope, you need to configer it

"exports: "
..............................................................................................
..............................................................................................
                       Angular CLI   Automate && accelerate your work flow
.............................................................................................

Problems in the dev flow:

Tasks:

1.create folder
2.create files - component-ts,html,css,spec
3.create module
4.declare class -cmp,service...
5.refer the classes inside module
6.you need to inject submodule into main module..

if you repeate the same thing for every object , which increases lot of time.

Automation:
 code generation automation

angular cli tool to generate code.

Generates and/or modifies files based on a schematic.

ng generate <schematic> [options]
ng g <schematic> [options]


//create folder, create module, inject this module into app module
>>ng g m footer --module=app
CREATE src/app/footer/footer.module.ts (192 bytes)
UPDATE src/app/app.module.ts (451 bytes)

create component, inside footer folder, inject into footer module, make it available public
i dont want css file,i want html file,i dontwant spec file

ng g c footer/footer  --flat=true --export=true --inline-style=true --skip-tests=true   --module=footer


 --flat=true :  create any thing inside exsiting folder
 --export=true : make it public
 --inline-style=true : i dont want css file
 --skip-tests=true  :dont create spec files
 --module=footer  : inject inside footer module

ng g m body --module=app   
ng g c body/body  --flat=true --export=true --inline-style=true --skip-tests=true   --module=body
..............................................................................................

...............................................................................................				Data binding
..............................................................................................

UI types

1.static ui
   only html
2.dynamic ui
  html + data and which change by user interactions

Data binding:
 Transfering state to ui(view)

Types of databinding

1.interpolation
2.property binding
3.attribute binding
4.event binding
5.two way data binding
6.class binding
7.style binding


MVC - Angular is MVC Framework
M- DATA
V-View -template
C - Controller - Component

...........................................................................................

Interpolation:
import { Component, OnInit } from '@angular/core';
import { Address } from '../types/address.type';

@Component({
  selector: 'app-interpolation',
  templateUrl: './interpolation.component.html',
  styles: [
  ]
})
export class InterpolationComponent implements OnInit {

  //instance variables ; models- data
  firstName: string = "Subramanian";
  age: number = 18;
  isValid: boolean = true;
  //objects
  address: Address = {
    city: 'Coimbatore',
    state: 'TN'
  };
  //Array
  skills: Array<string> = ["javascript", "angular", "typescript", "microservices"];


  constructor() { }

  ngOnInit(): void {
  }

}
<div>
    <h1>InterPolation</h1>
    <h2>Primitives</h2>
    <h3>String - {{firstName}}</h3>
    <h3>Number - {{age}}</h3>
    <h3>Boolean -{{isValid}}</h3>
    <h2>Object</h2>
    <h3>Object Properties {{address.city}} {{address.state}}</h3>
    <h2>Array</h2>
    <ul>
        <li *ngFor="let skill of skills">
            {{skill}}
        </li>
    </ul>

</div>
.............................................................................................
2.attribute binding
3.property binding

Angular instructions:
....................
Collection of symbols used inside html - template

{{}}
[]
*
#
()
[()]
..........................................................................................
			[] -  symbol used for property,attribute,style,class binding
...........................................................................................

What is   attribute and property? - []

<img src="imagelocation"/>
      |
 attribute
<a href="url">
   |
 attribute

Attribute values:
 - static attribute
eg:
   <img src="logo.png">


What is   attribute and property? - []

<img src="imagelocation"/>
      |
attribute

Why [] ?

  To bind value dynamically.
  
<img src="logo.png"/> -static image

<img [src]="variable"> - dynamic image

<div hidden> --- static value to hide div element

<div [hidden]="booleanvariable"> --- static value to hide div element

<button enabled>

<button [enabled="booleanvariable"> - dynamic value

if you use "[]"  on html elements which is called "attribute binding"
............................................................................................
				  Styling Components
.............................................................................................

Styles in angular :

1.global style
2.component specific style

global style:

style.css

bootstrap -  npm install bootstrap

angular.json
 "styles": [
              "src/styles.css",
              "./node_modules/bootstrap/dist/css/bootstrap.css"
            ],


<div class="container">
  <h1>Angular Data Binding</h1>
  <!-- <app-interpolation></app-interpolation> -->
  <app-attributes></app-attributes>
</div>

<div style="background-color: black; color: whitesmoke;">
    <h1>Attribute Binding</h1>
    <h2>Static Attribute - Static Image</h2>
    <img src="favicon.ico" />
    <h2>Dynamic Attribute - Dynamic Image</h2>
    <img [src]="imageLocation" />
    <h3>Dynamic Attribute - Enable or Disable Element</h3>
    <button [disabled]="isEnabled">Hello</button>
    <div [hidden]="isHidden">
        <h1>Hidden</h1>
    </div>
</div>
..............................................................................................
					Property Binding


What is property binding?
 Passing dynamic values  to the custom elements

Passing data from parent component to child component.
we can pass data upto n of childrens
Which is called "uni directional data flow model"
Components can be communicated via props binding.


<app-greet  [message]="variable|value"  ></app-greet>


@Component({
 selector:'app-greet',
 template: `<div> </div>
})
export class GreeterComponent{

}

Component Communication: - How components can pass data.

1.Parent -Child => via property binding
2.Child- Parent
3.across the components -sibilings -  via Services

.............................................................................................
			     Property binding
...........................................................................................

Passing data from parent component to child component.
we can pass data upto n of childrens
Which is called "uni directional data flow model"
Components can be communicated via props binding.

Two steps:

How to pass data from the parent to child?

1.From the parent component : passing data
  
  <app-greeter [message]="message">

 message:string="hello"

2. How to receive the data
   
   @Input() decorator
   message:string=""
................

  import { Component, OnInit } from '@angular/core';
  import { Address } from '../types/address.type';

  @Component({
    selector: 'app-parent',
    templateUrl: './parent.component.html',
    styles: [
    ]
  })
  export class ParentComponent implements OnInit {
    mymessage: string = "Hello! Property"
    address:Address = {
      city:'Coimbatore'
    }
    skills:Array<string> = ["java","javascript","Angular"]
    // address!: Address
    constructor() { }

    ngOnInit(): void {
    }

  }

parent.component.html
<h2>This is parent</h2>
<app-child [message]="mymessage" 
[address]="address" [skills]="skills">

</app-child>
  
............

import { Component, Input, OnInit } from '@angular/core';
import { Address } from '../types/address.type';

@Component({
  selector: 'app-child',
  templateUrl: './child.component.html',
  styles: [
  ]
})
export class ChildComponent implements OnInit {

  @Input()
  message: string = "";

  /**
   * ts config 
   * strict: true 
   * means that variable must have been initalized
   * but i dont want to make strict : false
   * there is solution : definite assigment operator "!"
   */
  @Input()
  address!: Address;

  @Input('skills')
  myskills!:Array<string>;

  constructor() { }

  ngOnInit(): void {
  }

}

child.component.html

<h2>Data from Parent</h2>
<h3>String {{message}}</h3>
<h3>Object {{address?.city ?? "Default city"}}</h3>
<h3>Array</h3>
<ul>
    <li *ngFor="let skill of myskills">
        <span>{{skill}}</span>
    </li>
</ul>

App component:
 <div>
    <h1>Property Binding</h1>
    <app-parent></app-parent>
  </div>
		..............................................................................................
					Event Binding
.............................................................................................


EventTarget Object: Event
  It connects dom object and listner method.
  where listener method can read values and other properties of dom object.

btn.addEventListener = function(evt){
  evt.target   

}
$event  - is global variable from the angular which has reference of EventTarget object


Two way binding:

-data is transfered from view to controller and controller to view 

How to implement two way data binding

1.events

///////////////////////////////////////////////////////////////////////////////////////////

Simple events:
<div>
    <button class="btn btn-success" (click)="onClick()" >Click</button>
    <!-- Pass data to listener -->
    <hr>
    <button class="btn btn-success" (click)="onReceive('hello how are you?')" >SendData</button>
</div>
import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-event',
  templateUrl: './event.component.html',
  styles: [
  ]
})
export class EventComponent implements OnInit {


  //listener function
  onClick() {
    alert('hello')
  }
  onReceive(message:string) {
    alert(message)
  }

  constructor() { }

  ngOnInit(): void {
  }

}
..........................................................................................
			How to read input from the keyboards
                           (Two way data binding)						
............................................................................................


import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { EventComponent } from './event.component';
import { InputComponent } from './input.component';
import { FormsModule } from '@angular/forms';



@NgModule({
  declarations: [
    EventComponent,
    InputComponent
  ],
  imports: [
    CommonModule,FormsModule
  ],
  exports: [
    EventComponent,
    InputComponent
  ]
})
export class EventbindingModule { }



import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-input',
  templateUrl: './input.component.html',
  styles: [
  ]
})
export class InputComponent implements OnInit {

  text:string = ""
  messageOne:string = ""
  messageTwo:string ="defaultvalue"
  messageThree:string = ""
  readInput(ctrl: any) {
    this.text = ctrl.target.value 
  }

  constructor() { }

  ngOnInit(): void {
  }

}

input.component.html

<div>
    <h2>Input Event</h2>
    <div>
        <h3>With Listener</h3>
        <h3>{{text}}</h3>
        <input (input)="readInput($event)">
    </div>

    <div>
        <h3>Without Listener</h3>
        <h3>{{messageOne}}</h3>
        <input (input)="messageOne=$event.target.value">
    </div>
    <div>
        <h3>Property Binding + Event Binding </h3>
        <h3>{{messageTwo}}</h3>
        <input  [value]="messageTwo" (input)="messageTwo=$event.target.value">
    </div>
    <div>
        <h3>Property Binding + Event Binding = Banana Box Notation [()] </h3>
        <h3>{{messageThree}}</h3>
        <input [(ngModel)]="messageThree">
    </div>
</div>
Types of events:

1.dom events - click,input,keypress.......
2.custom events - events for custom elements

Why custom events?

Component communcation:

1.parent to child - via props pattern
2.child to parent - via custom events
3.across components -  via services

2.child to parent - via custom events


Steps : write two components

1.parent
2.child

2.child to parent - via custom events



Steps : write two components

1.parent
2.child


Parent

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-parent',
  templateUrl: './parent.component.html',
  styles: [
  ]
})
export class ParentComponent implements OnInit {

  constructor() { }

  ngOnInit(): void {
  }

}

2.Child Component

import { Component, OnInit } from '@angular/core';

@Component({
  selector: 'app-child',
  templateUrl: './child.component.html',
  styles: [
  ]
})
export class ChildComponent implements OnInit {

  constructor() { }

  ngOnInit(): void {
  }

}

Step 2:

 EventEmitter:

Use in components with the @Output directive to emit custom events synchronously or asynchronously, and register handlers for those events by subscribing to an instance.

1.EventEmitter is used to broad cast values to Parent Components

class EventEmitter<T> extends Subject {
  constructor(isAsync?: boolean): EventEmitter<T>
  emit(value?: T): void
  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription
}

2.EventEmitter object is Subclass Rxjs Subject.

create EventEmitter Object of type in child compoent.

eventemitter is used to send custom events.

   onSendRequest = new EventEmitter<string>();

3.We have to decorate eventemitter with @Output()

  @Output()
  onSendRequest = new EventEmitter<string>();

4.send data to Parent Component

    <div>
        <input [(ngModel)]="message">
    </div>
    <div>
        <button (click)="onSend()">Send To Parent</button>
    </div>

export class ChildComponent {

  message: string = "Good Value"
  //event emitter Declaration
  @Output()
  onSendRequest = new EventEmitter<string>();
  onSend() {
    alert('sending data to parent')
    //emit data  -  next method in subject
    this.onSendRequest.emit(this.message)
  }

}

5.Listens event and grab the data from the Child

<div>
    <h1 style="text-align: center;">Parent Component</h1>
    <h2>{{childMessage}}</h2>
</div>
<hr/>
<app-child (onSendRequest)="onReadData($event)" ></app-child>


export class ParentComponent {

  childMessage: string;

  onReadData(event: any) {
    this.childMessage = event
  }

}

/////////////

final code :

Child:
<div>
    <h1 style="text-align: center;">Child Component</h1>
    <div>
        <input [(ngModel)]="message">
    </div>
    <div>
        <button (click)="onSend()">Send To Parent</button>
    </div>
</div>


export class ChildComponent implements OnInit {

  message: string = "Good Value"
  //event emitter Declaration
  @Output()
  onSendRequest = new EventEmitter<string>();

  constructor() { }

  ngOnInit(): void {
  }
  onSend() {
    alert('sending data to parent')
    //emit data  -  next method in subject
    this.onSendRequest.emit(this.message)
  }

}


Parent:

<div>
    <h1 style="text-align: center;">Parent Component</h1>
    <h2>{{childMessage}}</h2>
</div>
<hr/>
<app-child (onSendRequest)="onReadData($event)" ></app-child>

export class ParentComponent {

  childMessage: string;
  onReadData(event: any) {
    this.childMessage = event
  }

}

























